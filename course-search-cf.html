

<?php
//setup key variables
$responsibilities = get_field('civic_responsibility', 1718);
$domains = get_field('domains', 1718);
$semesters = get_field('semester_offered', 1718);

?>
<!-- Begin Search -->
<div class="liberal-search">
<form class="search_form">
   <input class="search_tabs search-expand" id="myInput-lions-search-grid" data-type="search" type="text" placeholder="Search.." onclick="expandSearch()">
   <img src="https://engineering.tcnj.edu/wp-content/uploads/sites/194/2021/02/headway-imported-image.png" id="clear-filter" alt="close"/>
</form>

<!-- Begin Filters -->
<div class="filters" style="margin-top:25px;margin-bottom:75px">
  
  <div class="ui-group">
    <h3 style="font-size:21px;line-height:30px;font-family:'Bitter',sans-serif;color:#3e3e3e;font-weight:400;margin-top:0px;margin-bottom:5px;text-transform:none;text-align:left;margin-left:0;">Domain</h3>
    <select class="button-group js-radio-button-group" value-group="color">
      <option class="button is-checked" value="">none</option>
      <!--       <input checked class="button is-checked" value="" type="checkbox" id="any" name="vehicle1" value="Bike">
<label for="any"> I have a bike</label><br> -->
<?php
  
foreach ((array) $domains as $domain) {	
  echo '<option class="button" value=".' . str_replace(array(' ', ',', '&','.'), '-', strtolower($domain)) . '">' . $domain . '</option>';
  }
?>


    </select>
  </div>

  <div class="ui-group">
    <h3 style="font-size:21px;line-height:30px;font-family:'Bitter',sans-serif;color:#3e3e3e;font-weight:400;margin-top:0px;margin-bottom:5px;text-transform:none;text-align:left;margin-left:0;">Civic Responsibility</h3>
    <select class="button-group js-radio-button-group" value-group="size">
      <option class="button is-checked" value="">none</option>
      <?php
  
        foreach ((array) $responsibilities as $responsibility) {	
          echo '<option class="button" value=".' . str_replace(array(' ', ',', '&','.'), '-', strtolower($responsibility)) . '">' . $responsibility . '</option>';
          }
        ?>
      
      

    </select>
  </div>

  <div class="ui-group">
    <h3 style="font-size:21px;line-height:30px;font-family:'Bitter',sans-serif;color:#3e3e3e;font-weight:400;margin-top:0px;margin-bottom:5px;text-transform:none;text-align:left;margin-left:0;">Semester </h3>
    <select class="button-group js-radio-button-group" value-group="shape">
      <option class="button is-checked" value="">any</option>
      <?php
  
      foreach ((array) $semesters as $semester) {	
        echo '<option class="button" value=".' . str_replace(array(' ', ',', '&','.'), '-', strtolower($semester)) . '">' . $semester . '</option>';
        }
      ?>
    </select>
  </div>
</div><!-- End Filters -->

<!-- Begin Grid -->
<div class="grid">
<!-- Begin MAT 255 -->


<?php 
query_posts(array( 
    'post_type' => 'course_post',
    'orderby' => array( 'meta_value' => 'ASC', 'title' => 'ASC' ),

'order' => 'ASC',
//exclude the post below from showing up in query
//'post__not_in' => array(1718), 
'posts_per_page' => -1, 
) );  
?>


<!-- Below loops through civic -->


<?php while (have_posts()) : the_post(); 

$postResponsibilities = get_field('civic_responsibility'); 
$postDomains = get_field('domains');
$postSemesters = get_field('semester_offered');
?>

<p></p>
  <div class="color-shape <?php 

  if($postResponsibilities) {
  foreach ((array) $postResponsibilities as $postResponsibility) {	
  echo str_replace(array(' ', '.'), '-', strtolower($postResponsibility)) . ' ';
  }
  
  
   };
  
   if($postDomains) {
    foreach ((array) $postDomains as $postDomain) {	
    echo str_replace(array(' ', '.'), '-', strtolower($postDomain)) . ' ';
    }
    
    
     };
  
     if($postSemesters) {
      foreach ((array) $postSemesters as $postSemester) {	
      echo str_replace(array(' ', '.'), '-', strtolower($postSemester)) . ' ';
      }
      
      
       };
  ?>">

    <h3 style="font-size:23px;line-height:35px;font-family:'Domine',serif;color:#3e3e3e;font-weight:700;margin-top:0px;margin-bottom:25px;text-transform:none;text-align:left;"><?php echo get_the_title( $post_id ); ?></h3>
      <!-- Begin Left Column -->
    <div>
      <div class="sub">
          <p><strong>Scheduled: </strong><?php if($postSemesters) {
            foreach ((array) $postSemesters as $postSemester) {	
            echo $postSemester . ', ';
            }
            
            
             };
        ?></p>
          <p><strong>Enrollment Requirement: </strong><?php echo get_field('enrollment_requirements'); ?></p>
         <p><strong>Units: </strong><?php echo get_field('units'); ?></p> 
        </div>
      <p style="font-size:20px;line-height:30px;"><?php echo get_field('description'); ?></p>
      </div><!-- End Left Column -->
    <!-- Begin Right Column -->
    <div>
      <div class="sub">
       <p><strong>Domain:</strong> 
        <?php
        if($postDomains) {
          foreach ((array) $postDomains as $postDomain) {	
          echo $postDomain . ', ';
          }
          
          
           };
        
        ?>
      </p>
      <p><strong>Civic Responsibility: </strong><?php 

        if($postResponsibilities) {
        foreach ((array) $postResponsibilities as $postResponsibility) {	
        echo $postResponsibility . ', ';
        }
        
        
         };
        
        
        ?></p>
      <div style="border-top:1px dashed #767676; width:85%;margin:25px 10px;padding:20px 0">
      <p style="line-height:26px"><i class="fas fa-info-circle"></i> <em>A single course can satisfy <strong>only one</strong> domain but <strong>up to two</strong> civic responsibilities.</em></p> 
      <p style="line-height:26px"><i class="fas fa-info-circle"></i> <em>If two domains or three civic responsibilities are listed, contact <a target="_blank" href="https://recreg.tcnj.edu/">Records and Registration</a> once you have enrolled in the course to indicate which domain or civic responsibilities you wish to have counted.</em></p></div>
    </div>
    </div><!-- End Right Column -->
  </div><!-- End MAT 255 -->
  <?php endwhile;?>
</div><!-- Grid -->
</div><!-- End Search -->